{
    "contents" : "load(\"~/westbrookJS/results/outJS.rDATA\")\nsims<-out$BUGSoutput$sims.list\n\nsummarize<-function(x,margin=c(2,3)){\n  getSummary<-function(x){\n  meanX<-mean(x)\n  quantiles<-quantile(x,c(0.025,0.975))\n  return(c(meanX,quantiles))\n  }\n  result<-data.table(dcast(melt(apply(x,MARGIN=margin,FUN=getSummary)),\n                           Var2+Var3~Var1))\n  setnames(result,c(\"sample\",\"river\",\"mean\",\"lower\",\"upper\"))\n  result[,season:=rep(rep(1:4,each=4),14)]\n  return(result)\n}\n\ntoSummarize<-c(\"pYoy\",\"pAdult\",\"phiYoy\",\"phiAdult\")\nfor(i in toSummarize){\n  assign(i,summarize(sims[[i]]))\n}\n\nrivers<-c(\"jimmy\",\"mitchell\",\"obear\",\"west brook\")\n\nfor(i in toSummarize){\n  tiff.par(paste0(\"results/\",i,\".tif\"),mfrow=c(4,1),mar=c(3,3,1,0),mgp=c(2,0.5,0))\n  for(r in 1:4){\n    plot(mean~sample,data=get(i)[river==r],\n         pch=19,col=palette()[season],ylim=c(0,1.1),\n         main=rivers[r],xlab=\"\",ylab=i)\n    with(get(i)[river==r],\n         error.bar(sample,mean,\n                   upper.y=upper,lower.y=lower,\n                   interval.type='bla')) \n  }\n  #legend('bottom',c(\"spring\",\"summer\",\"fall\",\"winter\"),palette()[1:4],pch=19)\n  title(xlab=\"Sample Number\")\n  dev.off()\n}\n",
    "created" : 1430750646405.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1187490166",
    "id" : "46D43F18",
    "lastKnownWriteTime" : 1430764104,
    "path" : "C:/Users/Evan/Desktop/Conte/westbrookJS/results/summarize.R",
    "project_path" : "results/summarize.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}